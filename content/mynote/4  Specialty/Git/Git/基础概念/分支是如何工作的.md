---
title: Git 分支是如何工作的
date: 2021-10-21 6:00:00
categories:
        - Git
tags:
        - Git
        - Github
        - 学习笔记
---

# 分支是如何工作的

## 主分支

在 Git 里，有一个默认的主分支，即**master**。**HEAO**严格来说并不是指向当前版本，而是指向的**master**，**master**才是指向当前版本的。所以，**HEAD**指向的就是当前分支，而当前分支的指针就是指向的当前版本。

![分支1](%E5%88%86%E6%94%AF%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84.assets/%E5%88%86%E6%94%AF2.png)

## commit 后分支的变化

每次提交，**master**都会向前进一个版本，这样，随着你不断提交，**master**的线也越来越长。

当我们新建一个**dev**分支，指向与**master**相同的提交，再把**HEAD**指向**dev**，就表示我们当前在**dev**上工作。

![分支2](%E5%88%86%E6%94%AF%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84.assets/%E5%88%86%E6%94%AF2-16290157265281.png)

## 新增分支

从现在开始，对工作区的修改和提交就是在**dev**分支上了，比如再一次提交后，**dev**分支就往前进一个版本，而**master**分支不变。

![分支3](%E5%88%86%E6%94%AF%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84.assets/%E5%88%86%E6%94%AF3.png)

## 合并分支

现在，我们在**dev**上的工作完成了，可以把**dev**合并到**master**上，直接把**master**指向**dev**的当前版本，就完成了合并。

![分支4](%E5%88%86%E6%94%AF%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84.assets/%E5%88%86%E6%94%AF4.png)

## 删除分支

合并分支后，你可以删掉**dev**分支，删掉后，我们就只剩下**master**分支。

![分支7](%E5%88%86%E6%94%AF%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84.assets/%E5%88%86%E6%94%AF7.png)
