---
title: Vue 使用组件
date: 2022-05-13 6:00:00
categories:
        - 前端框架
tags:
        - Vue
        - 前端
        - Vue 2
        - 学习笔记
---

# 使用组件

使用组件分为三步：

- 定义组件。
- 注册组件。
- 应用组件。

**HTML**

```HTML

```

**JavaScript**

```js

```

## 组件名

`-`命名法：任何环境都可以使用。

大坨峰命名法：只能在脚手架环境下使用（更推荐）。

组件名应尽可能避免与 HTML 已有的元素重名。

## 定义组件

组件无`el`配置项。

`data` 必须是一个函数，该函数返回的对象作为该组件的数据。避免组件被复用时，其数据还存在引用关系。

由于没有`el`，组件的虚拟 DOM 树必须定义在`template` 或 `render()`中。

创建组件的时候，可以使用 `name`配置项指定当前组件在 Vue 开发者工具中所呈现的名字。

```js
const Student = Vue.extend({
	// 指定组件名
	name: 'Rainy',
	template: `
    <div>
    <h1>{{studentName}}</h1>
    </div>
    `,
	data() {
		return {
			studentName: '忧心',
		};
	},
});
```

### 简写

简写的方式去定义组件，虽然我们没有调用 Vue.extend()方法，但实际上 Vue 在注册组件的时候也会帮我们调用。

```js
const School = {
	template: `
    <div>
    <h1>{{schoolName}}</h1>
    </div>
    `,
	data() {
		return {
			schoolName: '哈佛',
		};
	},
};
```

## 注册组件

### 局部注册组件

只能在当前实例 `el` 配置所指定的容器中使用。

在 Vue 实例中使用`components`配置项，建议组件名和子组件名相同。

### 全局注册组件

在任何容器中都可以使用。

使用`Vue.component()`，第一个参数是组件的名字，第二个参数是子组件的名字。

## 应用组件

### 成对方式

```html
<GlobalAssembly></GlobalAssembly>
```

如果当前不是脚手架环境，那么应用大坨峰命名的组件，会报错：

```
[Vue warn]: Unknown custom element: <globalassembly> - did you register the component correctly? For recursive components, make sure to provide the "name" option
```

### 自闭合方式

```html
<GlobalAssembly />
```

**当前不在脚手架环境时，不推荐使用自闭合的方式来应用组件**。因为这会导致某些 BUG
