---
title: Css 层叠上下文
date: 2021-10-05 6:00:00
categories:
        - 编程语言
tags:
        - Css
        - 前端
        - 学习笔记
---

# 层叠上下文

它是一块区域，它由某个元素创建，它规定了该区域中的内容在 Z 轴上排列的先后顺序。

它是一种 **三维概念**。所有的 HTML 元素都根据其元素的属性按照优先级顺序占据这个空间。

## 规则

只有定位元素设置 z-index 有效。

设置 z-index 值为负数的元素，会被正常流、浮动流覆盖。

z-index 的值，该值越大，则越靠近用户。

所有元素都处于 html 元素的层叠上下文中。

如遇到 z-index 一样的层叠上下文，则比较元素的书写顺序。

层叠上下文的元素，它本身永远被父级包含内，哪怕该元素设置了 z-index:-9999，它也只能包含于自身父元素的层叠上下文中。

每一个层叠上下文的元素，它们都完全独立于同级的元素，当处理层叠上下文时只会考虑自己的子元素。

## 创建层叠上下文的元素

- 根元素（html）。
- Position 值为 absolute 或 relative 且 z-index 值不为 auto 的元素。
- Opacity 的值小于 1 的元素。

## 优先级

- 同一个层叠上下文中，元素从底部到顶部的优先级
- 创建层叠上下文元素的背景和边框。
- z-index 的值为负的层叠上下文元素。
- 常规流非定位元素的块盒。
- 非定位的浮动流。
- 常规流非定位行盒。
- 任何 z-index 属性值为 auto 的定位子元素，以及 z-index 为 0 的元素。
- z-index 的值为正的元素。
