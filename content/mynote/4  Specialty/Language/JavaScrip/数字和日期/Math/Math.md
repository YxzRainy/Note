---
title: JavaScript Math
date: 2021-10-21 6:00:00
updated: 2021-10-23 6:00:00
categories:
        - 编程语言
tags:
        - 前端
        - 学习笔记
        - JavaScript
---

# Math

它是一个内置对象，它拥有一些数字常数属性和数学函数方法，它不是一个函数对象。

引用圆周率的写法是 Math.PI，调用正余弦函数的写法是 Math.sin(x)，x 是要传入的参。

### 计算时精度不准

0.14 \* 100 = 14.000000000000002；0.1 + 0.2 = 0.30000000000000004；这些运算后的值都是因为 js 计算精度不准的导致。

在 js 中整数和浮点数都属于 Number 数据类型，所有数字都是以 64 位浮点数形式储存。JavaScript 里的数字是采用 IEEE 754 标准的 64 位双精度浮点数，计算机进行计算的时候，会把数字转换为二进制，进行运算之后再转换为十进制，但是运算过程中小数部分最多支持 52 位，就会出现运算精度不准的问题。

1000000000000001 + 1000000000000001 = 2000000000000002，即在 JavaScript 中，可正常计算范围在小数点前 **16 位与后 16 位**。

```JavaScript
function One() {
	for (var c = 0; c < 18; c++) {
		var d = Math.random().toFixed(2) * 100;
		// 首先取 0-1 的随机数，然后取这个数小数点后的两位数，最后乘 100，并赋给变量 d
		var e = Math.floor(Math.random() * 100);
		// 首先取 0-1 之间的随机数，然后乘 100 后并向下取整，最后再赋给变量 e
		console.log(d);
		// 变量 d 可能会返回一些精度不准的值
		console.log(e);
		// 变量 e 不会返回精度不准的值
	}
}
One();
//执行这个函数，变量 d 会返回若干个精度不准的数值，变量 e 则不会。

```

使用 **Math.floor()** 方法或 **Math.ceil()** 方法即可解决这个问题。

