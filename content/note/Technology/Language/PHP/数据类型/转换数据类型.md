---
title: PHP 转换数据类型
date: 2022-05-18
categories:
        - 编程语言
tags:
        - PFP
        - 后端

---

# 转换数据类型

在很多的条件下，需要将指定的数据类型，转换成目标数据类型。

## 自动转换

系统根据需求判定并转换（用的比较多，效率偏低）。

```php
$a = 'abc1.1.1';
$b = '1.1.1abc';

// 0 + 1.1
echo $a + $b;
```

## 强制转换

它会先复制一份需要被转换的数据，然后在对这份被复制的数据进行处理（不会处理实际的数据，它处理的是自己拷贝的）。

### ()

在变量之前增加一个 `()`，括号中的参数为目标数据类型。

```php
$a = '我是字符串呀';
$b = 123;

// 强制转换，使 a 中的数据变为浮点型
// 但 a 本身的数据并没有变为 float
echo '<br/>', (float)$a;
echo '<br/>';
// 0
echo 'a = ' . $a;
//string
echo '<br/>';

echo '此时 a 的数据类型依旧为：' . gettype($a);
echo '<br/>';
echo '<hr/>';

```

### settype()

设定数据类型，但与前面的强制转换`()`不同，它会直接改变数据本身。

```php
<?php
$a = '我是字符串呀';
$b = 123;

// 强制设置数据类型
//true
var_dump(settype($a, 'int'));
echo '<br/>';
// a 的数据类型直接被设置成了 integer，和强制转换大不一样
echo 'a 的数据类型为：' . gettype($a);
echo '<br/>';
// a 的内容为 0
echo 'a = ' . $a;
```

**字符串转数值规则**

以字母开头的字符串，转换后一定为 0。

以数字开头的字符串，截至到字符串为止（不会同时包含两个小数点）。

```php
$a = 'abc1.1.1';
$b = '1.1.1abc';

// 0,1.1
echo '<br/>', (float)$a, '<br/>', (float)$b;

```
