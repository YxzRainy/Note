---
title: Ajax 跨域
date: 2022-05-01
categories:
        - Ajax
tags:
        - 前端
        - Note
---

# 跨域

## 同源策略

同源策略是一种出于浏览器安全方面的考虑而出台的一种策略，它可以保证用户信息的安全，防止恶意的网站窃取。同源策略只允许与本域下的接口交互，不同源的客户端脚本在没有明确授权的情况下，不能读写对方的资源。

**同源**：同协议、同域名、同端口，必须完全相同，违背同源策略，就是跨域。

### 同源策略的限制范围

1. Cookie，localStorage，IndexDB 无法读取
2. DOM 无法获得
3. AJAX 请求不能发送

## 如何解决跨域问题

### JSONP

JSONP 是浏览器与客户端跨域通信常用的一种方法。

`script`标签本身具有跨域的特性，JSONP 就是借助这个特定来解决跨域的问题的。

### CORS

CORS 的全称是跨源资源共享，是一种 ajax 跨域请求资源的方式.

```js
// * 表示所有网站都可以跨域请求当前服务器
response.setHeader('Access-Control-Allow-Origin', '*');
// 也可以只有某个网站才能对服务器发送跨域请求
response.setHeader('Access-Control-Allow-Origin', 'yxzi.xyz');
```
