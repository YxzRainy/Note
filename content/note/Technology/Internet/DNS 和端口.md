---
title: DNS 和端口
date: 2021-01-04
categories:
        - 网络技术
tags:
        - 服务器

---

# DNS 和端口

## DNS

DNS 是互联网的一项服务，它作为将域名和 IP 地址相互映射的一个分布式数据库，能够使人更方便地访问互联网。

简单的讲 DNS 就是翻译官，比如它会将`http://www.baidu.com`翻译成`220.181.111.188`让机器理解。

## DNS 有什么用

DNS 是用来做域名解析的，它会在你上网输入网址后，把它转换成 IP，然后去访问这个 IP 所指定的服务器，没有它，你想上百度就要记住百度的 IP，上 163 就要记住 163 的 IP，有了 DNS 的处理，你只需要记住对应网站的域名（网址），比如https://yxzi.xyz/。

DNS 是一个按层次结构排列的分布式系统，由许多 DNS 服务器组成。DNS 服务器是注册加入 DNS 的任何计算机。它具有域名和 IP 地址的索引，并且在请求时，它可以告诉你与域名关联的当前 IP 地址。

如果它不知道，那么它将尝试从其他 DNS 服务器中找出。

因此，当您在浏览器中键入域名时，浏览器会询问 DNS 服务器该域的 IP 地址是什么，DNS 服务器会尝试告诉你。

## 端口

简单来说：

> 在一台计算机上，端口用来指定你想要访问这台物理设备上的哪个程序。

IP 能锁定一台物理机器，对应着一张网卡，网卡会接收外界发来的数据包。但是问题来了，网卡给程序提供了接口，你监听一下我，要是有消息来了，我就转发给你，这样应用程序就能收到数据了。

但是问题来了，程序 A 和程序 B 都需要监听网卡接发数据，网卡说那我把接到的数据都发给你两，你们自己看着办吧。

好，小 A 小 B 都接收了。

但是又来了 CDEF......，不行了，每个包都被发到了所有应用程序，每个应用程序都累得不行，最终垮了。

好，那网卡说我给你们加个表示吧，我们之间可以用一个号码来作为标识，我和小 A 之间就用 1 来标识，

如果外界发给 1 号标识的数据我就转发给你，你监听我的时候得告诉我你监听的是 1，我就转发 1 的数据包给你。

好了其他的 BCD...都自己弄一个标识号，只要不重复就行。

这样大家都省事了。

最后涉及到安全，一个标识号只能被一个应用程序监听，因为如果小 A 程序和小 B 同时监听一个标识号，那就坏了，

我传的数据都被 AB 接到，这样数据的安全性就没办法保证了。

这个标识号就是端口，最初设计网络数据交换的设计者不知道是怎么想的。

其实网卡都是被系统层封装了，端口和进程之间的关系也是系统封装好的。我们只需要用 socket 就行，给定一个端口号就行了。

其他的事都交给操作系统去做。
