<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>分组查询 on Rainy · Blog</title>
    <link>https://yxzi.xyz/Sub/Blog/tags/%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2/</link>
    <description>Recent content in 分组查询 on Rainy · Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Mon, 25 Apr 2022 06:00:00 +0000</lastBuildDate><atom:link href="https://yxzi.xyz/Sub/Blog/tags/%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>MySQL 分组查询</title>
      <link>https://yxzi.xyz/Sub/Blog/mynote/4-specialty/mysql/dql/%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2/%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2/</link>
      <pubDate>Mon, 25 Apr 2022 06:00:00 +0000</pubDate>
      
      <guid>https://yxzi.xyz/Sub/Blog/mynote/4-specialty/mysql/dql/%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2/%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2/</guid>
      <description>分组查询 通过一定的规则将一个数据集划分为若干个小组，然后对这些小组中的数据进行处理。
语法 SELECT字段名FROM表名WHERE分组前的筛选条件GROUPBY依照哪个字段进行分组ORDERBY排序列表HAVING分组后的筛选条件查询列表必须特殊，必须实分组函数和 GROUP BY后面出现的字段。
分组查询的筛选条件被分为分组前的筛选和分组后的筛选
WHERE 和 HAVING WHERE，分组之前的筛选条件，数据来源是原始表。
HAVING，分组之后的筛选条件，数据来源是经过 WHERE 筛选后的表。
用先用 WHERE 来进行筛选的，优先考虑先用 WHERE 来进行筛选。
按单个字段分组 查询每个工种的最高工资 SELECTMAX(salary),job_idFROMemployeesGROUPBYjob_id查询每个部门，邮箱中包含 a 字符的平均工资 SELECTAVG(salary),department_idFROMemployeesWHEREemailLIKE&amp;#39;%a%&amp;#39;GROUPBYdepartment_id查询每个领导手下有奖金的员工的最高工资 SELECTMAX(salary),manager_idFROMemployeesWHEREcommission_pctISNOTNULLGROUPBYmanager_id查询哪些部门的员工数 &amp;gt; 2 SELECTCOUNT(*)AS员工个数,department_idFROMemployeesGROUPBYdepartment_idHAVING员工个数&amp;gt;2;查询哪些工种编号的最高工资 &amp;gt; 12000 SELECTMAX(salary)AS最高工资,job_idFROMemployeesWHEREcommission_pctISNOTNULLGROUPBYjob_idHAVING最高工资&amp;gt;12000;查询哪些领导编号 &amp;gt;102 ，且最低工资 &amp;gt; 5000 SELECTMIN(salary)AS最低工资,manager_idFROMemployeesWHEREmanager_id&amp;gt;102GROUPBYmanager_idHAVING最低工资&amp;gt;5000;按表达式或函数分组 按员工姓的长度分组，查询每组员工个数 &amp;gt;5 的组 SELECTCOUNT(*)AS员工个数,LENGTH(last_name)AS这些员工的姓名长度FROMemployeesGROUPBYLENGTH(last_name)HAVING员工个数&amp;gt;5按多个字段分组 将GROUP BY后面的多个字段用,隔开即可。
查询每个部门和每个工种的员工的平均工资 SELECTAVG(salary)AS平均工资,department_id,job_idFROMemployeesGROUPBYdepartment_id,job_id;查询每个不为 NULL 的部门和每个工种的 &amp;gt; 10000 的平均工资，并且按平均工资的高低显示 SELECTAVG(salary)AS平均工资,department_id,job_idFROMemployeesWHEREdepartment_idISNOTNULLGROUPBYjob_id,department_idHAVING平均工资&amp;gt;10000ORDERBY平均工资DESC;</description>
    </item>
    
  </channel>
</rss>
