<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Arp 中间人攻击 | Rainy · Blog</title><meta name=keywords content="Arp,Linux,Vmware,Network Security"><meta name=description content="Arp 中间人攻击 使用 Windows 7 登录到 Window Sever 2012 上搭建好的 FTP 服务器。
使用 kali
准备 Linux，用来模拟攻击机，本文用的是系统为 kali，其他系统可以参考。
Windows 7，用来模拟受害机。
Window Sever 2012，用于搭建 FTP 服务器，
Windows 本地环境，在 VMware 配置三台虚拟机
搭建 FTP 站点 打开服务器管理器的仪表板。
右上角管理 ，添加角色 Web 服务器：
勾选后一直下一步，在角色服务找到 FTP 服务器并勾选 ：
确认选项点击安装，等待安全完成即可。
配置 Linux 更新 Linux 软件列表
apt-get update 安装 dsniff 工具
apt-get install dsniff 使目标机器断网 我们现在要使受害机断网，先查看内网 ip
ifconfig 扫描内网网段
nbtscan -r 192.168.54.0/24 可以看到探测到了 ip 为 192.168.54.249，名为 WIN7-2022BXTBSK 的受害机。
开启 arp 欺骗攻击："><meta name=author content="Me"><link rel=canonical href=https://note.yxzi.xyz/blog/technology/arp-%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB/><link crossorigin=anonymous href=/assets/css/stylesheet.min.62a766bc4581651bf9ebdd15acbd4f2863a3de63a73c13fac62c2f57b1272951.css integrity="sha256-YqdmvEWBZRv5690VrL1PKGOj3mOnPBP6xiwvV7EnKVE=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://note.yxzi.xyz/Logo.png><link rel=icon type=image/png sizes=16x16 href=https://note.yxzi.xyz/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://note.yxzi.xyz/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://note.yxzi.xyz/apple-touch-icon.png><link rel=mask-icon href=https://note.yxzi.xyz/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Arp 中间人攻击"><meta property="og:description" content="Arp 中间人攻击 使用 Windows 7 登录到 Window Sever 2012 上搭建好的 FTP 服务器。
使用 kali
准备 Linux，用来模拟攻击机，本文用的是系统为 kali，其他系统可以参考。
Windows 7，用来模拟受害机。
Window Sever 2012，用于搭建 FTP 服务器，
Windows 本地环境，在 VMware 配置三台虚拟机
搭建 FTP 站点 打开服务器管理器的仪表板。
右上角管理 ，添加角色 Web 服务器：
勾选后一直下一步，在角色服务找到 FTP 服务器并勾选 ：
确认选项点击安装，等待安全完成即可。
配置 Linux 更新 Linux 软件列表
apt-get update 安装 dsniff 工具
apt-get install dsniff 使目标机器断网 我们现在要使受害机断网，先查看内网 ip
ifconfig 扫描内网网段
nbtscan -r 192.168.54.0/24 可以看到探测到了 ip 为 192.168.54.249，名为 WIN7-2022BXTBSK 的受害机。
开启 arp 欺骗攻击："><meta property="og:type" content="article"><meta property="og:url" content="https://note.yxzi.xyz/blog/technology/arp-%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB/"><meta property="og:image" content="https://note.yxzi.xyz/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="blog"><meta property="article:published_time" content="2022-06-06T00:00:00+00:00"><meta property="article:modified_time" content="2022-06-06T00:00:00+00:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://note.yxzi.xyz/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Arp 中间人攻击"><meta name=twitter:description content="Arp 中间人攻击 使用 Windows 7 登录到 Window Sever 2012 上搭建好的 FTP 服务器。
使用 kali
准备 Linux，用来模拟攻击机，本文用的是系统为 kali，其他系统可以参考。
Windows 7，用来模拟受害机。
Window Sever 2012，用于搭建 FTP 服务器，
Windows 本地环境，在 VMware 配置三台虚拟机
搭建 FTP 站点 打开服务器管理器的仪表板。
右上角管理 ，添加角色 Web 服务器：
勾选后一直下一步，在角色服务找到 FTP 服务器并勾选 ：
确认选项点击安装，等待安全完成即可。
配置 Linux 更新 Linux 软件列表
apt-get update 安装 dsniff 工具
apt-get install dsniff 使目标机器断网 我们现在要使受害机断网，先查看内网 ip
ifconfig 扫描内网网段
nbtscan -r 192.168.54.0/24 可以看到探测到了 ip 为 192.168.54.249，名为 WIN7-2022BXTBSK 的受害机。
开启 arp 欺骗攻击："><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Blogs","item":"https://note.yxzi.xyz/blog/"},{"@type":"ListItem","position":3,"name":"Arp 中间人攻击","item":"https://note.yxzi.xyz/blog/technology/arp-%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Arp 中间人攻击","name":"Arp 中间人攻击","description":"Arp 中间人攻击 使用 Windows 7 登录到 Window Sever 2012 上搭建好的 FTP 服务器。\n使用 kali\n准备 Linux，用来模拟攻击机，本文用的是系统为 kali，其他系统可以参考。\nWindows 7，用来模拟受害机。\nWindow Sever 2012，用于搭建 FTP 服务器，\nWindows 本地环境，在 VMware 配置三台虚拟机\n搭建 FTP 站点 打开服务器管理器的仪表板。\n右上角管理 ，添加角色 Web 服务器：\n勾选后一直下一步，在角色服务找到 FTP 服务器并勾选 ：\n确认选项点击安装，等待安全完成即可。\n配置 Linux 更新 Linux 软件列表\napt-get update 安装 dsniff 工具\napt-get install dsniff 使目标机器断网 我们现在要使受害机断网，先查看内网 ip\nifconfig 扫描内网网段\nnbtscan -r 192.168.54.0/24 可以看到探测到了 ip 为 192.168.54.249，名为 WIN7-2022BXTBSK 的受害机。\n开启 arp 欺骗攻击：","keywords":["Arp","Linux","Vmware","Network Security"],"articleBody":"Arp 中间人攻击 使用 Windows 7 登录到 Window Sever 2012 上搭建好的 FTP 服务器。\n使用 kali\n准备 Linux，用来模拟攻击机，本文用的是系统为 kali，其他系统可以参考。\nWindows 7，用来模拟受害机。\nWindow Sever 2012，用于搭建 FTP 服务器，\nWindows 本地环境，在 VMware 配置三台虚拟机\n搭建 FTP 站点 打开服务器管理器的仪表板。\n右上角管理 ，添加角色 Web 服务器：\n勾选后一直下一步，在角色服务找到 FTP 服务器并勾选 ：\n确认选项点击安装，等待安全完成即可。\n配置 Linux 更新 Linux 软件列表\napt-get update 安装 dsniff 工具\napt-get install dsniff 使目标机器断网 我们现在要使受害机断网，先查看内网 ip\nifconfig 扫描内网网段\nnbtscan -r 192.168.54.0/24 可以看到探测到了 ip 为 192.168.54.249，名为 WIN7-2022BXTBSK 的受害机。\n开启 arp 欺骗攻击：\narpspoof -i eth0 -t 192.168.54.249 192.168.54.76 -i 指定攻击机的某一张网卡来进行攻击。\n-t第一个 ip 指定受害机的 ip，第二个 ip 为内网默认网关（路由器）的 ip。\n第一个参数可通过扫描确定，第二个参数可在攻击机中输入netstat -rn来查看：\n图中的 192.168.54.76 就是内网默认网关。\n如图已经开始 arp 攻击了：\n这时候我们就会发现受害机已经 ping 不通了：\n至此，我们已经完成了 arp 欺骗的第一个目的：使目标机器断网。\n并且开启本地防火墙并不能拦截我们的 arp 欺骗。\n嗅探受害机的网络数据包 接下来，我们将使用 wireshark 来嗅探受害机的网络数据包\n使用下面的命令来开启路由转发功能：\necho 1  /proc/sys/net/ipv4/ip_forward 原本的 0 代表着不开启路由转发功能。\n此时回到受害机可以看到网络连接恢复了正常，代表着就是我们攻击机的路由转发功能已成功开启。此时受害机所有的网络请求包都会流经攻击机。\n打开流量分析神器 wireshark 并选择刚刚进行 arp 欺骗时所选择的那张网卡：\n开始抓包   在受害机输入地址：ftp://192.168.54.4:21。\n  输入账号和密码，登录成功后返回到攻击机。\n  抓包完成暂停 wireshark 抓包。\n  过滤其他协议的数据包，只显示 FTP 数据包，\n  查看数据看包，存储着我们刚刚输入的明文用户名、密码。\n  至此，我们成功模拟了一次 arp 欺骗攻击，并成功达到了让受害机断网、嗅探目标主机网络数据包。\n","wordCount":"134","inLanguage":"en","datePublished":"2022-06-06T00:00:00Z","dateModified":"2022-06-06T00:00:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://note.yxzi.xyz/blog/technology/arp-%E4%B8%AD%E9%97%B4%E4%BA%BA%E6%94%BB%E5%87%BB/"},"publisher":{"@type":"Organization","name":"Rainy · Blog","logo":{"@type":"ImageObject","url":"https://note.yxzi.xyz/Logo.png"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://note.yxzi.xyz accesskey=h title="Home (Alt + H)">Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://note.yxzi.xyz/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://note.yxzi.xyz/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://note.yxzi.xyz/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://note.yxzi.xyz/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Arp 中间人攻击</h1><div class=post-meta><span title="2022-06-06 00:00:00 +0000 UTC">June 6 2022</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#准备>准备</a></li><li><a href=#搭建-ftp-站点>搭建 FTP 站点</a></li><li><a href=#配置-linux>配置 Linux</a></li><li><a href=#使目标机器断网>使目标机器断网</a></li><li><a href=#嗅探受害机的网络数据包>嗅探受害机的网络数据包</a></li><li><a href=#开始抓包>开始抓包</a></li></ul></nav></div></details></div><div class=post-content><h1 id=arp-中间人攻击>Arp 中间人攻击<a hidden class=anchor aria-hidden=true href=#arp-中间人攻击>#</a></h1><p>使用 Windows 7 登录到 Window Sever 2012 上搭建好的 FTP 服务器。</p><p>使用 kali</p><h2 id=准备>准备<a hidden class=anchor aria-hidden=true href=#准备>#</a></h2><p>Linux，用来模拟攻击机，本文用的是系统为 kali，其他系统可以参考。</p><p>Windows 7，用来模拟受害机。</p><p>Window Sever 2012，用于搭建 FTP 服务器，</p><p>Windows 本地环境，在 VMware 配置三台虚拟机</p><h2 id=搭建-ftp-站点>搭建 FTP 站点<a hidden class=anchor aria-hidden=true href=#搭建-ftp-站点>#</a></h2><p>打开服务器管理器的仪表板。</p><p>右上角管理 ，添加角色 Web 服务器：</p><p><img loading=lazy src=https://image.yxzi.xyz/image/2022/06/10/%e6%b7%bb%e5%8a%a0%e8%a7%92%e8%89%b2.png alt=添加角色></p><p>勾选后一直下一步，在角色服务找到 <strong>FTP 服务器</strong>并勾选 ：</p><p><img loading=lazy src=https://image.yxzi.xyz/image/2022/06/10/%e8%a7%92%e8%89%b2%e6%9c%8d%e5%8a%a1.png alt=角色服务></p><p>确认选项点击安装，等待安全完成即可。</p><p><img loading=lazy src=https://image.yxzi.xyz/image/2022/06/10/FTP%e5%ae%89%e8%a3%85%e5%ae%8c%e6%88%90.png alt=FTP安装完成.png></p><h2 id=配置-linux>配置 Linux<a hidden class=anchor aria-hidden=true href=#配置-linux>#</a></h2><p>更新 Linux 软件列表</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>apt-get update
</span></span></code></pre></div><p>安装 dsniff 工具</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>apt-get install dsniff
</span></span></code></pre></div><h2 id=使目标机器断网>使目标机器断网<a hidden class=anchor aria-hidden=true href=#使目标机器断网>#</a></h2><p>我们现在要使受害机断网，先查看内网 ip</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>ifconfig
</span></span></code></pre></div><p>扫描内网网段</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>nbtscan -r 192.168.54.0/24
</span></span></code></pre></div><p><img loading=lazy src=https://image.yxzi.xyz/image/2022/06/07/%e6%89%ab%e6%8f%8f%e5%86%85%e7%bd%91%e7%bd%91%e6%ae%b5.png alt=扫描内网网段></p><p>可以看到探测到了 ip 为 192.168.54.249，名为 WIN7-2022BXTBSK 的受害机。</p><p><strong>开启 arp 欺骗攻击：</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>arpspoof -i eth0 -t 192.168.54.249 192.168.54.76
</span></span></code></pre></div><p><code>-i</code> 指定攻击机的某一张网卡来进行攻击。</p><p><code>-t</code>第一个 ip 指定受害机的 ip，第二个 ip 为内网默认网关（路由器）的 ip。</p><p>第一个参数可通过扫描确定，第二个参数可在攻击机中输入<code>netstat -rn</code>来查看：</p><p><img loading=lazy src=https://image.yxzi.xyz/image/2022/06/07/%e6%9f%a5%e7%9c%8b%e5%86%85%e7%bd%91%e9%bb%98%e8%ae%a4%e7%bd%91%e5%85%b3.png alt=查看内网默网关></p><p>图中的 192.168.54.76 就是内网默认网关。</p><p>如图已经开始 arp 攻击了：</p><p><img loading=lazy src=https://image.yxzi.xyz/image/2022/06/07/%e5%bc%80%e5%a7%8b%e6%94%bb%e5%87%bb.png alt=开始攻击></p><p>这时候我们就会发现受害机已经 ping 不通了：</p><p><img loading=lazy src=https://image.yxzi.xyz/image/2022/06/07/ping%e4%b8%8d%e9%80%9a.png alt=ping不通></p><p>至此，我们已经完成了 arp 欺骗的第一个目的：使目标机器断网。</p><p>并且开启本地防火墙并不能拦截我们的 arp 欺骗。</p><h2 id=嗅探受害机的网络数据包>嗅探受害机的网络数据包<a hidden class=anchor aria-hidden=true href=#嗅探受害机的网络数据包>#</a></h2><p>接下来，我们将使用 wireshark 来嗅探受害机的网络数据包</p><p>使用下面的命令来开启路由转发功能：</p><pre tabindex=0><code>echo 1 &gt; /proc/sys/net/ipv4/ip_forward
</code></pre><p>原本的 0 代表着不开启路由转发功能。</p><p>此时回到受害机可以看到网络连接恢复了正常，代表着就是我们攻击机的路由转发功能已成功开启。<strong>此时受害机所有的网络请求包都会流经攻击机。</strong></p><p>打开流量分析神器 wireshark 并选择刚刚进行 arp 欺骗时所选择的那张网卡：</p><p><img loading=lazy src=https://image.yxzi.xyz/image/2022/06/07/%e9%80%89%e6%8b%a9%e7%bd%91%e5%8d%a1.png alt=选择网卡></p><h2 id=开始抓包>开始抓包<a hidden class=anchor aria-hidden=true href=#开始抓包>#</a></h2><p><img loading=lazy src=http://image.yxzi.xyz/image/2022/06/07/%e5%bc%80%e5%a7%8b%e6%8a%93%e5%8c%85.png alt=开始抓包></p><ol><li><p>在受害机输入地址：ftp://192.168.54.4:21。</p></li><li><p>输入账号和密码，登录成功后返回到攻击机。</p></li><li><p>抓包完成暂停 wireshark 抓包。</p></li><li><p>过滤其他协议的数据包，只显示 FTP 数据包，</p></li><li><p>查看数据看包，存储着我们刚刚输入的明文用户名、密码。</p></li></ol><p><img loading=lazy src=https://image.yxzi.xyz/image/2022/06/07/%e6%9f%a5%e7%9c%8b%e6%95%b0%e6%8d%ae%e5%8c%85.png alt=查看数据包></p><p>至此，我们成功模拟了一次 arp 欺骗攻击，并成功达到了让受害机断网、嗅探目标主机网络数据包。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://note.yxzi.xyz/tags/arp/>Arp</a></li><li><a href=https://note.yxzi.xyz/tags/linux/>Linux</a></li><li><a href=https://note.yxzi.xyz/tags/vmware/>Vmware</a></li><li><a href=https://note.yxzi.xyz/tags/network-security/>Network Security</a></li></ul><nav class=paginav><a class=next href=https://note.yxzi.xyz/blog/technology/hugo-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8/><span class=title>Next »</span><br><span>Hugo 自动化部署到服务器</span></a></nav></footer></article></main><footer class=footer><div id=Record><a class="RecordNumber TransitionOne" href=https://beian.miit.gov.cn/ target=_blank>黔ICP备2021007565号</a>
<a class=PublicSecurityRecord href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=52010202002678" target=_blank><p class="RecordNumber TransitionOne">贵公网安备 52010202002678号</p></a></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerHTML="copy";function s(){e.innerHTML="copied!",setTimeout(()=>{e.innerHTML="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>