<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Vue key | Rainy · Blog</title><meta name=keywords content="Vue,前端,Vue 2,学习笔记"><meta name=description content="key 表示节点的唯一标识key。
使用 v-for 时，如果不给元素加上 key，那么 Vue 会默认将 index当作元素的key。
该属性可以干预diff 算法，在同一层级，key值相同的节点会进行比对，key值不同的节点则不会比对。
在循环生成的节点中，vue 强烈建议给予每个节点唯一且稳定的 key 值。
HTML
<div id=&#34;app&#34;>  <div v-if=&#34;handoff === 'login'&#34;> <label>登录</label> <input type=&#34;text&#34; name=&#34;&#34; id=&#34;&#34; key=&#34;1&#34;> </div> <div v-else> <label>注册</label> <input type=&#34;text&#34; name=&#34;&#34; id=&#34;&#34; key=&#34;2&#34;> </div> <div> <!-- handoff 等于：如果 login 为 true，则 handoff === register，否则 handoff === login --> <button @click=&#34;handoff = handoff === 'login'?'register':'login'&#34;>切换</button>  </div> </div> JavaScrip
var app = new Vue({ 	el: '#app', 	data: { 	text: '表单', 	handoff: 'login', 	}, }); Vue."><meta name=author content="Me"><link rel=canonical href=https://yxzi.xyz/mynote/4-specialty/frame/vue/vue-2/%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7/key/><link crossorigin=anonymous href=/assets/css/stylesheet.min.ec8da366ca2fb647537ccb7a8f6fa5b4e9cd3c7a0d3171dd2d3baad1e49c8bfc.css integrity="sha256-7I2jZsovtkdTfMt6j2+ltOnNPHoNMXHdLTuq0eSci/w=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.4dcb3c4f38462f66c6b6137227726f5543cb934cca9788f041c087e374491df2.js integrity="sha256-Tcs8TzhGL2bGthNyJ3JvVUPLk0zKl4jwQcCH43RJHfI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://yxzi.xyz/Logo.ico><link rel=icon type=image/png sizes=16x16 href=https://yxzi.xyz/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://yxzi.xyz/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://yxzi.xyz/apple-touch-icon.png><link rel=mask-icon href=https://yxzi.xyz/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-123-45","auto"),ga("send","pageview"))</script><meta property="og:title" content="Vue key"><meta property="og:description" content="key 表示节点的唯一标识key。
使用 v-for 时，如果不给元素加上 key，那么 Vue 会默认将 index当作元素的key。
该属性可以干预diff 算法，在同一层级，key值相同的节点会进行比对，key值不同的节点则不会比对。
在循环生成的节点中，vue 强烈建议给予每个节点唯一且稳定的 key 值。
HTML
<div id=&#34;app&#34;>  <div v-if=&#34;handoff === 'login'&#34;> <label>登录</label> <input type=&#34;text&#34; name=&#34;&#34; id=&#34;&#34; key=&#34;1&#34;> </div> <div v-else> <label>注册</label> <input type=&#34;text&#34; name=&#34;&#34; id=&#34;&#34; key=&#34;2&#34;> </div> <div> <!-- handoff 等于：如果 login 为 true，则 handoff === register，否则 handoff === login --> <button @click=&#34;handoff = handoff === 'login'?'register':'login'&#34;>切换</button>  </div> </div> JavaScrip
var app = new Vue({ 	el: '#app', 	data: { 	text: '表单', 	handoff: 'login', 	}, }); Vue."><meta property="og:type" content="article"><meta property="og:url" content="https://yxzi.xyz/mynote/4-specialty/frame/vue/vue-2/%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7/key/"><meta property="og:image" content="https://yxzi.xyz/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="mynote"><meta property="article:published_time" content="2022-05-10T06:00:00+00:00"><meta property="article:modified_time" content="2022-05-10T06:00:00+00:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://yxzi.xyz/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Vue key"><meta name=twitter:description content="key 表示节点的唯一标识key。
使用 v-for 时，如果不给元素加上 key，那么 Vue 会默认将 index当作元素的key。
该属性可以干预diff 算法，在同一层级，key值相同的节点会进行比对，key值不同的节点则不会比对。
在循环生成的节点中，vue 强烈建议给予每个节点唯一且稳定的 key 值。
HTML
<div id=&#34;app&#34;>  <div v-if=&#34;handoff === 'login'&#34;> <label>登录</label> <input type=&#34;text&#34; name=&#34;&#34; id=&#34;&#34; key=&#34;1&#34;> </div> <div v-else> <label>注册</label> <input type=&#34;text&#34; name=&#34;&#34; id=&#34;&#34; key=&#34;2&#34;> </div> <div> <!-- handoff 等于：如果 login 为 true，则 handoff === register，否则 handoff === login --> <button @click=&#34;handoff = handoff === 'login'?'register':'login'&#34;>切换</button>  </div> </div> JavaScrip
var app = new Vue({ 	el: '#app', 	data: { 	text: '表单', 	handoff: 'login', 	}, }); Vue."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Mynotes","item":"https://yxzi.xyz/mynote/"},{"@type":"ListItem","position":2,"name":"Vue key","item":"https://yxzi.xyz/mynote/4-specialty/frame/vue/vue-2/%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7/key/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Vue key","name":"Vue key","description":"key 表示节点的唯一标识key。\n使用 v-for 时，如果不给元素加上 key，那么 Vue 会默认将 index当作元素的key。\n该属性可以干预diff 算法，在同一层级，key值相同的节点会进行比对，key值不同的节点则不会比对。\n在循环生成的节点中，vue 强烈建议给予每个节点唯一且稳定的 key 值。\nHTML\n\u0026lt;div id=\u0026#34;app\u0026#34;\u0026gt;  \u0026lt;div v-if=\u0026#34;handoff === \u0026#39;login\u0026#39;\u0026#34;\u0026gt; \u0026lt;label\u0026gt;登录\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;\u0026#34; id=\u0026#34;\u0026#34; key=\u0026#34;1\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div v-else\u0026gt; \u0026lt;label\u0026gt;注册\u0026lt;/label\u0026gt; \u0026lt;input type=\u0026#34;text\u0026#34; name=\u0026#34;\u0026#34; id=\u0026#34;\u0026#34; key=\u0026#34;2\u0026#34;\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div\u0026gt; \u0026lt;!-- handoff 等于：如果 login 为 true，则 handoff === register，否则 handoff === login --\u0026gt; \u0026lt;button @click=\u0026#34;handoff = handoff === \u0026#39;login\u0026#39;?\u0026#39;register\u0026#39;:\u0026#39;login\u0026#39;\u0026#34;\u0026gt;切换\u0026lt;/button\u0026gt;  \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; JavaScrip\nvar app = new Vue({ \tel: \u0026#39;#app\u0026#39;, \tdata: { \ttext: \u0026#39;表单\u0026#39;, \thandoff: \u0026#39;login\u0026#39;, \t}, }); Vue.","keywords":["Vue","前端","Vue 2","学习笔记"],"articleBody":"key 表示节点的唯一标识key。\n使用 v-for 时，如果不给元素加上 key，那么 Vue 会默认将 index当作元素的key。\n该属性可以干预diff 算法，在同一层级，key值相同的节点会进行比对，key值不同的节点则不会比对。\n在循环生成的节点中，vue 强烈建议给予每个节点唯一且稳定的 key 值。\nHTML\ndiv id=\"app\"  div v-if=\"handoff === 'login'\" 登录  注册   切换button  div div JavaScrip\nvar app = new Vue({ \tel: '#app', \tdata: { \ttext: '表单', \thandoff: 'login', \t}, }); Vue.config.productionTip = false; 虚拟 DMO 树中 key 的作用 key 是虚拟 DOM 对象的唯一标识，当数据发生变化时，Vue 会根据新数据生成一棵新虚拟 DOM 树，随后将其与旧虚拟 DOM 树比对（diff算法）。\n比对规则：\n 在旧虚拟 DOM 树中找到了与新虚拟 DOM 树中相同key的节点：  若两棵虚拟 DOM 树中的节点没有变化，则直接使用之前已经生成好的真实 DOM 节点。 若两棵虚拟 DOM 树中的节点有变化，则仅将两棵虚拟 DOM 树有差异的节点渲染为真实 DOM 节点。    这样可最小程度的改动真实 DOM，提升页面渲染效率。\n 在旧虚拟 DOM 树中未找到与新虚拟 DOM 树中相同key的节点：  将未找到的虚拟 DOM 节点渲染为真实 DOM节点。    用 index 作为key 可能会引发的问题：  若对数据进行逆序添加、逆序删除等其他破坏数组元素顺序的操作，会产生没有必要的 DOM 更新，导致渲染效率低。 如果结构中还包含表单类 DOM，则会导致错误的 DOM 更新，并会导致界面渲染出现严重的问题。  开发中如何选择 key？  最好使用每条数据的唯一标识符作为 key，比如 id、手机号、身份证号等具有唯一性的值。 如果不存在对数据的逆序添加、逆序删除等破坏数组元素顺序的操作，仅用于渲染展示，则可以直接使用 index作为 key。  ","wordCount":"141","inLanguage":"en","datePublished":"2022-05-10T06:00:00Z","dateModified":"2022-05-10T06:00:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://yxzi.xyz/mynote/4-specialty/frame/vue/vue-2/%E7%89%B9%E6%AE%8A%E5%B1%9E%E6%80%A7/key/"},"publisher":{"@type":"Organization","name":"Rainy · Blog","logo":{"@type":"ImageObject","url":"https://yxzi.xyz/Logo.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://yxzi.xyz/ accesskey=h title="Home (Alt + H)"><img src=https://yxzi.xyz/apple-touch-icon.png alt=logo aria-label=logo height=35>Home</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://yxzi.xyz/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://yxzi.xyz/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://yxzi.xyz/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://yxzi.xyz/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Vue key</h1><div class=post-meta><span title="2022-05-10 06:00:00 +0000 UTC">May 10, 2022</span>&nbsp;·&nbsp;141 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=# rel="noopener noreferrer" target=_blank></a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#虚拟-dmo-树中-key-的作用>虚拟 DMO 树中 key 的作用</a><ul><li><a href=#用-index-作为key-可能会引发的问题>用 index 作为key 可能会引发的问题：</a></li><li><a href=#开发中如何选择-key>开发中如何选择 key？</a></li></ul></li></ul></nav></div></details></div><div class=post-content><h1 id=key>key<a hidden class=anchor aria-hidden=true href=#key>#</a></h1><p>表示节点的唯一标识<code>key</code>。</p><p>使用 <code>v-for</code> 时，如果不给元素加上 <code>key</code>，那么 Vue 会默认将 <code>index</code>当作元素的<code>key</code>。</p><p>该属性可以干预<code>diff </code>算法，在同一层级，<code>key</code>值相同的节点会进行比对，<code>key</code>值不同的节点则不会比对。</p><p>在循环生成的节点中，vue 强烈建议给予每个节点唯一且稳定的 key 值。</p><p><strong>HTML</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-vue data-lang=vue><span style=display:flex><span>&lt;<span style=color:#f92672>div</span> <span style=color:#a6e22e>id</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;app&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>div</span> <span style=color:#f92672>v-if</span><span style=color:#e6db74>=&#34;handoff === &#39;login&#39;&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;label&gt;登录&lt;/label&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;input type=&#34;text&#34; name=&#34;&#34; id=&#34;&#34; key=&#34;1&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &lt;div v-else&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;label&gt;注册&lt;/label&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;input type=&#34;text&#34; name=&#34;&#34; id=&#34;&#34; key=&#34;2&#34;&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &lt;/div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>    &lt;div&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;!-- handoff 等于：如果 login 为 true，则 handoff === register，否则 handoff === login --&gt;
</span></span></span><span style=display:flex><span><span style=color:#e6db74>        &lt;button @click=&#34;handoff = handoff === &#39;login&#39;?&#39;register&#39;:&#39;login&#39;&#34;</span>&gt;<span style=color:#a6e22e>切换</span>&lt;/<span style=color:#f92672>button</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=color:#f92672>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=color:#f92672>div</span>&gt;
</span></span></code></pre></div><p><strong>JavaScrip</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>app</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Vue</span>({
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>el</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;#app&#39;</span>,
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>data</span><span style=color:#f92672>:</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>text</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;表单&#39;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>handoff</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;login&#39;</span>,
</span></span><span style=display:flex><span>	},
</span></span><span style=display:flex><span>});
</span></span><span style=display:flex><span><span style=color:#a6e22e>Vue</span>.<span style=color:#a6e22e>config</span>.<span style=color:#a6e22e>productionTip</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span></code></pre></div><h2 id=虚拟-dmo-树中-key-的作用>虚拟 DMO 树中 key 的作用<a hidden class=anchor aria-hidden=true href=#虚拟-dmo-树中-key-的作用>#</a></h2><p>key 是虚拟 DOM 对象的唯一标识，当数据发生变化时，Vue 会根据新数据生成一棵新虚拟 DOM 树，随后将其与旧虚拟 DOM 树比对（<code>diff</code>算法）。</p><p><strong>比对规则：</strong></p><ol><li>在旧虚拟 DOM 树中找到了与新虚拟 DOM 树中相同<code>key</code>的节点：<ul><li>若两棵虚拟 DOM 树中的节点没有变化，则直接使用之前已经生成好的真实 DOM 节点。</li><li>若两棵虚拟 DOM 树中的节点有变化，则仅将两棵虚拟 DOM 树有差异的节点渲染为真实 DOM 节点。</li></ul></li></ol><p><strong>这样可最小程度的改动真实 DOM，提升页面渲染效率。</strong></p><ol><li>在旧虚拟 DOM 树中未找到与新虚拟 DOM 树中相同<code>key</code>的节点：<ul><li>将未找到的虚拟 DOM 节点渲染为真实 DOM节点。</li></ul></li></ol><h3 id=用-index-作为key-可能会引发的问题>用 index 作为key 可能会引发的问题：<a hidden class=anchor aria-hidden=true href=#用-index-作为key-可能会引发的问题>#</a></h3><ul><li>若对数据进行逆序添加、逆序删除等其他破坏数组元素顺序的操作，<strong>会产生没有必要的 DOM 更新，导致渲染效率低</strong>。</li><li>如果结构中还包含表单类 DOM，<strong>则会导致错误的 DOM 更新，并会导致界面渲染出现严重的问题</strong>。</li></ul><h3 id=开发中如何选择-key>开发中如何选择 key？<a hidden class=anchor aria-hidden=true href=#开发中如何选择-key>#</a></h3><ul><li>最好使用每条数据的唯一标识符作为 <code>key</code>，比如 id、手机号、身份证号等<strong>具有唯一性的值</strong>。</li><li>如果不存在对数据的逆序添加、逆序删除等破坏数组元素顺序的操作，仅用于渲染展示，则可以直接使用 <code>index</code>作为 <code>key</code>。</li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://yxzi.xyz/tags/vue/>Vue</a></li><li><a href=https://yxzi.xyz/tags/%E5%89%8D%E7%AB%AF/>前端</a></li><li><a href=https://yxzi.xyz/tags/vue-2/>Vue 2</a></li><li><a href=https://yxzi.xyz/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/>学习笔记</a></li></ul><nav class=paginav><a class=prev href=https://yxzi.xyz/mynote/4-specialty/frame/vue/vue-2/%E6%95%B0%E6%8D%AE%E9%80%89%E9%A1%B9/computd/><span class=title>« Prev</span><br><span>Vue computd</span></a>
<a class=next href=https://yxzi.xyz/mynote/4-specialty/frame/vue/vue-2/%E6%8C%87%E4%BB%A4/%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93/v-for/><span class=title>Next »</span><br><span>Vue v-for</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://yxzi.xyz/>Rainy · Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerHTML="copy";function s(){e.innerHTML="copied!",setTimeout(()=>{e.innerHTML="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>