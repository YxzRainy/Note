<!DOCTYPE html>
<html lang="zh-cmn-Hans">
    <head>
    <meta charset="utf-8" />
    <meta name="generator" content="Hugo 0.88.1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="author" content="Rainy" />
    <meta property="og:url" content="https://yxzi.xyz/Sub/Blog/mynote/4-specialty/language/js/%E9%A2%84%E7%BC%96%E8%AF%91/" />
    <link rel="canonical" href="https://yxzi.xyz/Sub/Blog/mynote/4-specialty/language/js/%E9%A2%84%E7%BC%96%E8%AF%91/" /><link rel="apple-touch-icon" href="https://yxzi.xyz/Logo.ico" />
    <link rel="icon" href="https://yxzi.xyz/Logo.ico" />
    <link rel="shortcut" href="https://yxzi.xyz/Logo.ico" /><link rel="alternate" type="application/atom+xml" href="https://yxzi.xyz/Sub/Blogindex.xml" title="Rainy · Blog" />

    <script type="application/ld+json">
	{
	    "@context" : "http://schema.org",
	    "@type" : "BlogPosting",
	    "mainEntityOfPage": {
	         "@type": "WebPage",
	         "@id": "https:\/\/yxzi.xyz\/Sub\/Blog"
	    },
	    "articleSection" : "mynote",
	    "name" : "JavaScript 预编译",
	    "headline" : "JavaScript 预编译",
	    "description" : "预编译 JavaScript 是脚本语言，因此不会进行传统的预编译，但它会经过一个特殊的预编译过程，这个预编译过程发生在代码执行前的极短时间内。\n预编译发生在代码执行之前的一瞬间，用于在内存中创建一些空间来存储一些变量与函数；预编译时，会无视 if 语句中的条件，会直接将 if 语句中的代码块内的变量的声明与函数声明进行提升。\n函数声明提升 定义一个函数时，该函数会被提升到当前作用域链的顶端，即调用该函数时，不管在哪调用该函数，都可以调用成功；但函数表达式并不会。\n变量声明提升 使用 var 声明的变量，不管在这之前还是之后调用该变量，并不会报错，会返回 undefined。\n暗示全局变量 暗示全局变量（imply global），一个变量未声明就赋值，那么此变量就是 window（全局对象）的属性； 任何全局变量，都是 window 的属性，即可以通过 window 对象调用全局变量。window 就是全局的域，它包括了全局变量和全局函数。\n暗示全局变量不会进行变量声明提升。\na = 10; \/\/ 一个变量未声明就赋值，那么此变量就是 window（全局对象）的属性，也叫暗示全局变量 \/\/ 相当于 window.a = 10; \/\/ 相当于 window = { a: 10, }; \/\/一切声明了的全局变量，都是 window 的属性 var b = 20; \/\/ 相当于 window.b = 20; \/\/ 相当于 window = { b: 20, }; \/\/ 调用变量 b，相当于调用全局对象 window 的属性 b，即 console.",
	    "inLanguage" : "en-US",
	    "author" : "Rainy",
	    "creator" : "Rainy",
	    "publisher": "Rainy",
	    "accountablePerson" : "Rainy",
	    "copyrightHolder" : "Rainy",
	    "copyrightYear" : "2021",
	    "datePublished": "2021-10-21 06:00:00 \u002b0000 UTC",
	    "dateModified" : "2021-10-21 06:00:00 \u002b0000 UTC",
	    "url" : "https:\/\/yxzi.xyz\/Sub\/Blog\/mynote\/4-specialty\/language\/js\/%E9%A2%84%E7%BC%96%E8%AF%91\/",
	    "keywords" : [ "学习笔记","JavaScript", ]
	}
</script><title>JavaScript 预编译</title>
    <meta property="og:title" content="JavaScript 预编译" />
    <meta property="og:type" content="article" />
    <meta property="og:description" content="预编译 JavaScript 是脚本语言，因此不会进行传统的预编译，但它会经过一个特殊的预编译过程，这个预编译过程发生在代码执行前的极短时间内。
预编译发生在代码执行之前的一瞬间，用于在内存中创建一些空间来存储一些变量与函数；预编译时，会无视 if 语句中的条件，会直接将 if 语句中的代码块内的变量的声明与函数声明进行提升。
函数声明提升 定义一个函数时，该函数会被提升到当前作用域链的顶端，即调用该函数时，不管在哪调用该函数，都可以调用成功；但函数表达式并不会。
变量声明提升 使用 var 声明的变量，不管在这之前还是之后调用该变量，并不会报错，会返回 undefined。
暗示全局变量 暗示全局变量（imply global），一个变量未声明就赋值，那么此变量就是 window（全局对象）的属性； 任何全局变量，都是 window 的属性，即可以通过 window 对象调用全局变量。window 就是全局的域，它包括了全局变量和全局函数。
暗示全局变量不会进行变量声明提升。
a = 10; // 一个变量未声明就赋值，那么此变量就是 window（全局对象）的属性，也叫暗示全局变量 // 相当于 window.a = 10; // 相当于 window = { a: 10, }; //一切声明了的全局变量，都是 window 的属性 var b = 20; // 相当于 window.b = 20; // 相当于 window = { b: 20, }; // 调用变量 b，相当于调用全局对象 window 的属性 b，即 console." />
    <meta name="description" content="预编译 JavaScript 是脚本语言，因此不会进行传统的预编译，但它会经过一个特殊的预编译过程，这个预编译过程发生在代码执行前的极短时间内。
预编译发生在代码执行之前的一瞬间，用于在内存中创建一些空间来存储一些变量与函数；预编译时，会无视 if 语句中的条件，会直接将 if 语句中的代码块内的变量的声明与函数声明进行提升。
函数声明提升 定义一个函数时，该函数会被提升到当前作用域链的顶端，即调用该函数时，不管在哪调用该函数，都可以调用成功；但函数表达式并不会。
变量声明提升 使用 var 声明的变量，不管在这之前还是之后调用该变量，并不会报错，会返回 undefined。
暗示全局变量 暗示全局变量（imply global），一个变量未声明就赋值，那么此变量就是 window（全局对象）的属性； 任何全局变量，都是 window 的属性，即可以通过 window 对象调用全局变量。window 就是全局的域，它包括了全局变量和全局函数。
暗示全局变量不会进行变量声明提升。
a = 10; // 一个变量未声明就赋值，那么此变量就是 window（全局对象）的属性，也叫暗示全局变量 // 相当于 window.a = 10; // 相当于 window = { a: 10, }; //一切声明了的全局变量，都是 window 的属性 var b = 20; // 相当于 window.b = 20; // 相当于 window = { b: 20, }; // 调用变量 b，相当于调用全局对象 window 的属性 b，即 console." />
    <meta property="og:locale" content="zh-cn" />

    <link rel="stylesheet" href="https://yxzi.xyz/Sub/Blog/css/index.css" />
    <link rel="stylesheet" href="https://yxzi.xyz/Sub/Blog/css/Base.css" />
    <link rel="stylesheet" href="https://yxzi.xyz/Sub/Blog/css/Hover.css" />

    
    <link href="/Sub/Blog/%20index.xml" rel="alternate" type="application/rss+xml"
            title="Rainy · Blog">
    <script>
        (function (undefined) { }.call(('object' === typeof window && window) || ('object' === typeof self && self) || ('object' === typeof global && global) || {}));
    </script>

    
    

</head>
    

    <body class="Wrap">
        <article class="Post BorderBox  ">
            <header class="PostHeader">
                <h1 id="Title" class="post-title">JavaScript 预编译</h1>
                
                <div class="DateArea">
                    
                    <time class="PostDate" datetime=" 2021-10-21 06:00:00 UTC">
                        2021-10-21
                    </time>
                    
                </div>
                
            </header>

            
            <div class="PostContent">
                
                <h1 id="预编译">预编译</h1>
<p>JavaScript 是脚本语言，因此不会进行传统的预编译，但它会经过一个特殊的预编译过程，这个预编译过程发生在代码执行前的极短时间内。</p>
<p>预编译发生在代码执行之前的一瞬间，用于在内存中创建一些空间来存储一些变量与函数；预编译时，会无视 if 语句中的条件，会直接将 if 语句中的代码块内的变量的声明与函数声明进行提升。</p>
<h2 id="函数声明提升">函数声明提升</h2>
<p>定义一个函数时，该函数会被提升到当前作用域链的顶端，即调用该函数时，不管在哪调用该函数，都可以调用成功；但函数表达式并不会。</p>
<h2 id="变量声明提升">变量声明提升</h2>
<p>使用 var 声明的变量，不管在这之前还是之后调用该变量，并不会报错，会返回 undefined。</p>
<h2 id="暗示全局变量">暗示全局变量</h2>
<p>暗示全局变量（imply global），一个变量未声明就赋值，那么此变量就是 window（全局对象）的属性； 任何全局变量，都是 window 的属性，即可以通过 window 对象调用全局变量。window 就是全局的域，它包括了全局变量和全局函数。</p>
<p><strong>暗示全局变量不会进行变量声明提升</strong>。</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#000">a</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#8f5902;font-style:italic">// 一个变量未声明就赋值，那么此变量就是 window（全局对象）的属性，也叫暗示全局变量
</span><span style="color:#8f5902;font-style:italic">// 相当于
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87">window</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">a</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#8f5902;font-style:italic">// 相当于
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87">window</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#000">a</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#000;font-weight:bold">};</span>

<span style="color:#8f5902;font-style:italic">//一切声明了的全局变量，都是 window 的属性
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">20</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#8f5902;font-style:italic">// 相当于
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87">window</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">20</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#8f5902;font-style:italic">// 相当于
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87">window</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#000">b</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">20</span><span style="color:#000;font-weight:bold">,</span>
<span style="color:#000;font-weight:bold">};</span>
<span style="color:#8f5902;font-style:italic">// 调用变量 b，相当于调用全局对象 window 的属性 b，即 console.log(b) 相当于 console.log(window.b)
</span></code></pre></div><h2 id="函数预编译">函数预编译</h2>
<p>函数预编译发生在函数执行的前一刻，即预编译结束后函数开始执行，也叫局部预编译。</p>
<h3 id="函数的执行期上下文">函数的执行期上下文</h3>
<p>指 AO 对象（Active Object），也叫执行期上下文；GO 先创建，AO 后创建。</p>
<p>函数调用的最终值都将储存在 AO 中（AO 定义了函数执行时的环境），即当函数调用一个变量，该函数会去 AO 中寻找这个变量；准确点说就是去该函数的作用域链顶端依次向下寻找这个变量。</p>
<p>若多次调用同一个函数，则会创建多个相同的 AO，但每一个 AO 都是独一无二的，AO 将在创建它的函数执行完后被释放。</p>
<h3 id="函数预编译的过程">函数预编译的过程</h3>
<p>创建 AO 对象，将函数的形参与函数中的变量声明作为 AO 的属性名，属性值为 undefined，并将其书写到 AO 中（该过程就是变量的声明提升）。</p>
<p>将形参与实参统一，即将实参的值赋给对应的形参。</p>
<p>寻找函数中的函数声明，将其函数名作为 AO 的属性名（若函数声明的函数名与 AO 中的属性名重复，则只保留一个），属性值为与函数名相对应的函数体，并将其书写到 AO 中。</p>
<p>将对象 arguments 作为 AO 的属性名，并且将函数的实参以数组的形式作为属性值，并将其书写到 AO 中。</p>
<p>将 this 作为 AO 的属性名，并默认将 window 作为属性值（指向），并将其书写到 AO 中（函数预编译过程中，this 默认指向 window）；若该函数使用了 new 运算符创建了一个对象实例，则默认的属性值 window 会变为该对象实例的名称。</p>
<h3 id="函数声明提升-1">函数声明提升</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JavaScript" data-lang="JavaScript"><span style="color:#000">One</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#8f5902;font-style:italic">// 先调用函数 One 再书写函数声明，该函数也可以使用，因为该函数的函数声明会提升到该作用域链的顶端。
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000">One</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;执行成功&#39;</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span>

<span style="color:#8f5902;font-style:italic">// 变量声明提升--------------------------------------------------
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">a</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#8f5902;font-style:italic">// 在变量 a 声明之前调用该变量，并不会报错，会返回 undefined。
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">a</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">;</span>
</code></pre></div><h3 id="函数声明覆盖">函数声明覆盖</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">a</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span>
	<span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000">One</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">n</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">n</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span>
<span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">One</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">a</span><span style="color:#000;font-weight:bold">);</span>

<span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000">One</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">n</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">n</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">n</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000;font-weight:bold">}</span>
<span style="color:#8f5902;font-style:italic">// 函数 One 的声明提升，相同的两个函数 One，书写靠后的会覆盖之前的。
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">c</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">One</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">a</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">b</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">);</span>
</code></pre></div><h2 id="全局预编译">全局预编译</h2>
<p>全局预编译发生在全局（每个 script 元素或外部 js 文件）执行的前一刻。</p>
<h3 id="全局执行期上下文">全局执行期上下文</h3>
<p>指 GO 对象（Global Object），也就是 window 对象。</p>
<p>GO 对象中的 this，默认值为 window，它默认指向 window。</p>
<h3 id="全局预编译时发生了些什么">全局预编译时发生了些什么</h3>
<p>创建 GO 对象，将全局中的变量声明作为 GO 的属性名，属性值为 undefined，并将其书写到 GO 中。</p>
<p>寻找全局中的函数声明，并将函数名作为 GO 对象的属性名，属性值为与函数名相对应的函数体，并将其书写到 GO 中。</p>
<h3 id="变量声明提升-1">变量声明提升</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JavaScript" data-lang="JavaScript"><span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">a</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">a</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#8f5902;font-style:italic">// 变量的声明（var a）会提升到该作用域链的顶端，但赋值 （= 10）并没有提升，所以这里返回 undefined。
</span></code></pre></div><h3 id="变量的连续赋值">变量的连续赋值</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JavaScript" data-lang="JavaScript"><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000">One</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">a</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">// 因为变量赋值是从右向左的，所以这段代码是先将数值 10 赋给变量 b，再声明局部变量 a，再将变量 b 的值赋给变量 a，
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#8f5902;font-style:italic">// 即变量 b 就是一个暗示全局变量（window 的属性）。
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000;font-weight:bold">}</span>
<span style="color:#000">One</span><span style="color:#000;font-weight:bold">();</span>
<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">window</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">a</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#8f5902;font-style:italic">// 返回 undefined，因为变量 a 是函数 One 的局部变量，它不是全局对象 window 的属性。
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87">window</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">b</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#8f5902;font-style:italic">// 返回 10，因为变量 b 是全局变量，它是全局对象 window 的属性。
</span><span style="color:#8f5902;font-style:italic"></span>
</code></pre></div><h3 id="预编译过程">预编译过程</h3>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-JavaScript" data-lang="JavaScript"><span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">a</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#8f5902;font-style:italic">// 因为在这之后的变量 a 的声明提升了，所以返回 undefined。
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">a</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">100</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#8f5902;font-style:italic">// 全局变量 a。
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">a</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#8f5902;font-style:italic">// 返回 100。
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">f</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#8f5902;font-style:italic">// 暗示全局变量 f。
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">g</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">300</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#8f5902;font-style:italic">// 暗示全局变量 g。
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000">f</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{}</span>
<span style="color:#8f5902;font-style:italic">// 函数声明 f
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">One</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#8f5902;font-style:italic">// 调用函数声明提升后的函数 One
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000">One</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">a</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">b</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">f</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">// 返回 200，因为函数 One 中没有局部变量 f，然后到全局中寻找变量 f。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">d</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">// 返回 function d(){}（本应该返回 undefined，），在这之后的函数声明 d 提升了（函数声明提升优先级高于变量的声明提升）。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">a</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">//返回 function a(){}（本应该返回实参 5），在这之后的函数声明 a 提升了。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">a</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">;</span>
	<span style="color:#8f5902;font-style:italic">// 将实参 a 从 function a(){} 变为 10。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">a</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">// 返回 10。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">arguments</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">11</span><span style="color:#000;font-weight:bold">;</span>
	<span style="color:#8f5902;font-style:italic">// 选择实参列表中的第一个值（a），将这个值变为 11
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">a</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">// 返回 11
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">// 返回 undefined，因为在这之后的 if 语句中的的变量声明 i 提升了。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">g</span> <span style="color:#ce5c00;font-weight:bold">==</span> <span style="color:#0000cf;font-weight:bold">300</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
		<span style="color:#8f5902;font-style:italic">// 如果变量 g 为真，则执行在这之后的代码。
</span><span style="color:#8f5902;font-style:italic"></span>		<span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">i</span><span style="color:#000;font-weight:bold">;</span>
		<span style="color:#8f5902;font-style:italic">// 不管 if 语句的返回值是否为 true，其语句中的变量都会先进行声明提升。
</span><span style="color:#8f5902;font-style:italic"></span>		<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">g</span><span style="color:#000;font-weight:bold">);</span>
		<span style="color:#8f5902;font-style:italic">// 返回 300，虽然函数 One 中没有变量 g，但全局里有变量 g
</span><span style="color:#8f5902;font-style:italic"></span>		<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">h</span><span style="color:#000;font-weight:bold">);</span>
		<span style="color:#8f5902;font-style:italic">// 返回 undefined，因为函数 One 中没有变量 h，但全局里里有变量 h，虽然全局里的变量 h 在这之后，但变量 h 提升了。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000;font-weight:bold">}</span>
	<span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000">a</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{}</span>
	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">a</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">// 返回 11。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">i</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">50</span><span style="color:#000;font-weight:bold">;</span>
	<span style="color:#8f5902;font-style:italic">// 将变量 i 从 undefined 变为 50。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
		<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">);</span>
		<span style="color:#8f5902;font-style:italic">// 返回 50。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000;font-weight:bold">}</span>
	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">// 返回 undefined，因为在这之后的变量声明 c 提升了。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">c</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">e</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">30</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">// 将数值 30 赋给暗示全局变量，之后声明变量 c，最后再将暗示全局变量 e 的值赋给变量 c。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">c</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">e</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">// 返回 30。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">if</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">j</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#000;font-weight:bold">{</span>
		<span style="color:#8f5902;font-style:italic">//因为变量 j 为 undefined，所以变量 j 为 false，因此不会执行在这之后的语句。
</span><span style="color:#8f5902;font-style:italic"></span>		<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;我执行不&#39;</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#000;font-weight:bold">}</span>
	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">b</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">// 返回 undefined，在这之后的变量声明 b 提升了。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">20</span><span style="color:#000;font-weight:bold">;</span>
	<span style="color:#8f5902;font-style:italic">// 将变量 b 从 undefined 变为 20。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">b</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">// 返回 20。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">b</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000">b</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{};</span>
	<span style="color:#8f5902;font-style:italic">// 这里的变量 b 是变量声明，也是函数表达式，将变量 b 从 20 变为了 function b( ){}。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">b</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">// 返回 function b( ){}。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">d</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">40</span><span style="color:#000;font-weight:bold">;</span>
	<span style="color:#8f5902;font-style:italic">// 将变量 d 从 function d(){} 变为 40。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">function</span> <span style="color:#000">d</span><span style="color:#000;font-weight:bold">()</span> <span style="color:#000;font-weight:bold">{}</span>
	<span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">d</span><span style="color:#000;font-weight:bold">);</span>
	<span style="color:#8f5902;font-style:italic">// 返回 40。
</span><span style="color:#8f5902;font-style:italic"></span>	<span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">j</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#000;font-weight:bold">}</span>
<span style="color:#204a87;font-weight:bold">var</span> <span style="color:#000">h</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">400</span><span style="color:#000;font-weight:bold">;</span>
<span style="color:#8f5902;font-style:italic">// 声明全局变量 h。
</span><span style="color:#8f5902;font-style:italic"></span><span style="color:#000">console</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">log</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">h</span><span style="color:#000;font-weight:bold">);</span>
<span style="color:#8f5902;font-style:italic">// 返回 400。
</span></code></pre></div>
            </div>
            
            
            <div class="PostTag">
                <a href="/Sub/Blog/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
                    学习笔记
                </a>
            </div>
            
            <div class="PostTag">
                <a href="/Sub/Blog/tags/javascript/">
                    JavaScript
                </a>
            </div>
            
        </article>
        
        <nav id="TableOfContents">
  <ul>
    <li><a href="#函数声明提升">函数声明提升</a></li>
    <li><a href="#变量声明提升">变量声明提升</a></li>
    <li><a href="#暗示全局变量">暗示全局变量</a></li>
    <li><a href="#函数预编译">函数预编译</a>
      <ul>
        <li><a href="#函数的执行期上下文">函数的执行期上下文</a></li>
        <li><a href="#函数预编译的过程">函数预编译的过程</a></li>
        <li><a href="#函数声明提升-1">函数声明提升</a></li>
        <li><a href="#函数声明覆盖">函数声明覆盖</a></li>
      </ul>
    </li>
    <li><a href="#全局预编译">全局预编译</a>
      <ul>
        <li><a href="#全局执行期上下文">全局执行期上下文</a></li>
        <li><a href="#全局预编译时发生了些什么">全局预编译时发生了些什么</a></li>
        <li><a href="#变量声明提升-1">变量声明提升</a></li>
        <li><a href="#变量的连续赋值">变量的连续赋值</a></li>
        <li><a href="#预编译过程">预编译过程</a></li>
      </ul>
    </li>
  </ul>
</nav>

        <a id="ToTheTop" href="#Title" class="hvr-icon-float">
    <svg class="Icon TransitionOne hvr-icon" aria-hidden="true">
        <use href="#Icon-ToTop"></use>
    </svg>
</a>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="//at.alicdn.com/t/font_2643512_y3jltpxrbur.js"></script>
<script src="https://yxzi.xyz/Sub/Blog/js/Search.js"></script>
<script src="https://yxzi.xyz/Sub/Blog/js/Main.js"></script>
<script src="https://yxzi.xyz/Sub/Blog/js/CopyBtn.js"></script>
    </body>

</html>