---
title: C 基础概念
date: 2023-04-03
categories:
        - Note
tags:
        - C
        - 基础概念
---

# 基础概念

## 常量

固定不变的常数，不能被重新赋值。

整型常量，整数，包含负整数

### 实型常量

1. 十进制小数形式，
2. 指数形式，`12.34e3` 表示 12.34 $\times$ $10^3$，$e$ 表示以 10 为底数的指数，e 后面必须为整数

### 字符常量

只能包含一个字符`'A'`

1. 普通字符
2. 转义字符，其中 \ 不能单独出现，其后必须跟一个字符，构成一个字符。

### 字符串常量

可以包含一串字符`"abc"`

### 符号常量（宏定义）

用 `#define` 指定一个符号名称代表常量。

1. 符号常量的名字应「见名明义」。
2. 符号常量名通用大写。
3. 不能重新赋值
4. **预编译时，仅进行字符替换**，预编译后，符号常量就不存在了。
5. 不占用存储单元

## 变量

必须先定义，后使用，定义后可以被改变的量。

 变量名实际上代表着一个存储地址，通过这存储地址，可以找到与该变量的变量值。

### 声明和定义

声明包含定义，但并非所有的声明都是定义

1. 定义性声明，`int a`，它是定义，会建立存储单元。
2. 引用性声明， `extern a`，它是声明而不是定义，不会建立存储单元

### 如何区分

1. 函数中出现的对变量的声明，除了用 extern 声明的变量外，其他的声明都是定义。
2. 函数中对其他函数的声明不是函数的定义。

### 系统是如何执行 int i = 5; 这个语句的

1. 程序请求操作系统为 i 分配存储空间。
2. 操作系统会在内存中寻找一块空闲的内存空间，将这个内存空间当作 i 来使用。
3. 程序会将 i 和这块内存空间关联起来，也就是将 i 当作这块内存空间的名字，使得以后对 i 这个字母进行操作，就相当于对这块内存空间进行，操作。
4. 最后将 5 存储到 i 中，也就是存储到这块空闲的区域中。

### 变量为什么要初始化

初始化，也叫赋值，变量不进行初始化，那么这个变量中所存放的数据就是垃圾值。

### 垃圾值

垃圾值（随机值）指的是其他程序使用某个内存空间所遗留下来的值。

VC++ 若发现某个变量的内存空间内有垃圾值（即该变量没进行初化），那么它会将该垃圾值替换为填充值。目的是为了避免开发者将垃圾值当做一个正常值来使用，也就是提醒开发者这个变量没有进行初始化。因此，**变量若未进行初始化，该变量的内存空间内存放的是一个垃圾值**。

### 常变量

用 `const` 定义，有变量值，但该值不能被改变，与符号常量不同的是，常变量占用存储单元。

### 标识符

标识符就是一个对象的名字，数组名、函数名、变量名等。

只能由字母、数字、下划线组成，且第一个字符不能是数字。

## 数据类型

存储单元不能存放无穷大的数和循环小数。

不同类型的数据所占字节数不同

| 类型          | 16位 | 32 位 | 64位 |
| ------------- | ---- | ----- | ---- |
| char          | 1    | 1     | 1    |
| short int     | 2    | 2     | 2    |
| int           | 2    | 4     | 4    |
| unsigned int  | 2    | 4     | 4    |
| float         | 4    | 4     | 4    |
| double        | 8    | 8     | 8    |
| long          | 4    | 4     | 8    |
| long long     | 8    | 8     | 8    |
| unsigned long | 4    | 4     | 8    |

### 整型

不带小数点的数值就是整型

各种整型所占字不同，C 语言规定各个整型所占字节必须：短整型 $<$ 基本整型 $<$ 长整型 $<$ 双长整型。

**整型数据分（包括字符型）为有符号和无符号**，无符号整型（unsigned int）就是没有负数的整型，有符号整型（singed int）包含负数。

有符号整型的左侧最高位代表数值的符号，0 为正，1 为 负。无符号整型因为左侧最高位不在表示符号，而用来表示数值，因此，相同的有符号整型比无符号整型所存放的数值范围扩大了一倍

### 字符型

字符按照 ASCII 字符集来进行转换。常用的有 127 个字符

有符号字符和无符号字符，都占一个字节。

0 到 127 的整数都可以用 `%c`来输出。

### 浮点型

有小数点的数值都是浮点型，`10、10.0`

float，单精度，占 4 字节。

double，双精度，占 8 字节。

long double， 长双精度，占 16 字节或 8 字节

浮点型数据进行运算时，系统会将数据转换为 double 型再进行运算

有效的存储单元并不能完全精确到存储一个实数

## 运算符和表达式

### 自增和自减

前自增`++i`与后自增 `i++`.

#### 相同

最终都会使 i 的值加 1.

#### 不同

`i++` 先返回原来的值，再加 1。

`++i` 直接返回加 1 后的值。

```c
#include <stdio.h>

int main()
{
    int a,b,c,d;
    a = b = 3;
    // return 3
    c = a++;
    // return 4
    d = ++b;
    printf("c = %d\nd = %d",c,d);
    return 0;
}
```

### 不同数据类型的混合运算

int 与 float 和 double 之间的加减乘除运算中，有一个操作数为 float 或 double，则将所有操作数都转换为 double 型再进行运算。

char 与 int 之间的运算，将 char 根据 ASCII 码转换后再进行运算。

### 强制类型转换

`(double)a`，将 a转换为 double 型。

`(float)(x + y)`，将 x + y 的值转换为 float 型

`(int)x + y`，将 x 转换为 int 型，再与 y相加。

在进行强制类型转换时，原变量类型并没有发生改变，只是在运算的时候将类型转换的结果赋给了另一个变量。

### 赋值运算

float/double 赋给 int ，对浮点数取整，舍弃小数部分，再赋给整型变量。

int 赋给 float/double，结果是 double 型。

double 赋给 float，先将 double 转为 float，即取 6 -7 位数字，结果为 float 型。注意 double 型数值的大小不能超过 float型的数值范围。

char 赋给 int，将字符的 ASCII 码赋给 int。

占字节多的 int （如 int）赋给占字节少的 int（如 short）或 char 变量时，会先将高字节转换为二进制，再原封不动放到低字节的二进制位中，再将多出的部分截断即可。

## Null

二进制全部为零时有几种含义，为什么会有几种含义呢，这是因为解码的方式不同：

1. 数值零。（数值解码）
2. 字符串结束标记符`'\0'`（字母解码）
3. 空指针`Null`，此时的`Null`本质也是零，但这个零不代表数字 0：`int i = 0`，而表示某个内存单元的地址为零（地址解码）

另外，我们计算机规定，以零（Null）为地址的储存单元的内容不可读，也不可写。

## 流程控制

流程控制也叫控制结构，控制程序应该如何执行代码。

### 顺序控制

从上到下的执行代码，中间没有任何判断或跳转。

### 选择控制

某些代码可能执行，也可能不执行，有选择的执行某些代码。

### 循环控制

某些代码被重复执行。iq
