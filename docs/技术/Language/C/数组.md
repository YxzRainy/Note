---
title: C 数组
date: 2022-02-21
categories:
        - Note
tags:
        - C
        - 数组
---

# 数组

数组是用于储存多个相同类型数据的集合。

在 C 语言中，与数组相关的方法很少，大部分操作，都只能自己去实现，比如排序，查找等等。

数组中未赋值的元素，初始值为 0，字符型数组初始值为 `\0`

```c
#include <iostream>

int main(void){
//    arr 是数组的名字，5 表示数组中元素的个数，
    int arr[5] = {1,2,3,4,5};
    printf("%d\n",arr[4]);
}
```

在 C 语言中，**一个数组的名字是这个数组第一个元素的指针地址**。

## 特点

数组是连续的、线性的，在内存中亦是如此。

数组的数量，一旦定义，无法修改。

数组的类型取决于该数组存储的元素的类型。

## 优点

存取速度快。

## 缺点

需要一个连续的、很大的内存。

插入和删除元素的效率很低。

## 一维数组

定义一个一维数组时：

为 n 个变量连续分配储存空间。

数组中的所有元素，数据类型必须一致。

数组中所有变量所占的字节必须一样。

### 定义一维数组

```c
#include <iostream>
int main(){
    // 完全初始化
    int arr[5] ={1,2,3,4,5};
    // 不完全初始化，未初始化的元素的值为 0
    int arr2[5] ={1,2,3};
    // 打印索引为 4 的值，但 arr2 中没有索引为 3 的值，因此这里返回 0
    printf("%d\n",arr2[3]);
    // 不初始化，所有元素都是垃圾值
    int arr3[5];
    printf("%d\n",arr3[5]);
    // 清零，将数组中的每个元素的值都变成 0
    int arr4[5] = {0};
}

```

### 错误的定义

只有在定义数组的同时，才可以整体赋值，

其他情况下整体复制都是错误的。

```c
#include <iostream>
int main(){
    int a[5];
    // a[5] 表示 a 数组中索引为 5 的值。
    a[5] = {1,2,3,4,5};
}
```

### **将数组 a 中的值全部复制到数组 b**

```c
#include <iostream>

int main()
{
//  错误的写法，因为一维数组名存储的是该数组中第一个元素的地址
    b = a;
//  正确的写法
    for(int i = 0; i < 5; i++ )
    {
        b[i] = a[i];
    }
}

```

## 二维数组

一个二维数组，在本质上，是一个一维数组的列表。它声明了一个 x 行 y 列的矩阵。

定义数组和引用数组是不一样的，前者是数组的维数和各维的大小，后者是数组下标值。

二维数组赋值：

1. 可以只对部分元素赋初值。
2. 也可对各行中的某一个元素赋初值。
3. 只对某几行元素赋初值
4. 对全部元素都赋初值时，数组的一维长度可省略，二维则

```c
#include <iostream>

int main(){
    //  该数组中总共有12个元素，可以当作 3 行(一)5 列（丨）来看
    int arr[3][4];
    //  这个二位数组以此为：
    arr[0][0]   arr[0][1]   arr[0][2]   arr[0][3]
    arr[1][0]   arr[1][1]   arr[1][2]   arr[1][3]
    arr[2][0]   arr[2][1]   arr[2][2]   arr[2][3]
}
```

### 声明一个二维数组

```c
#include <iostream>

int main()
{
    int arr[3][4] = {1,2,3,4,6,7,8,9,10,11,12};

    int arr2[3][4] =
    {
        {1, 2, 3, 4},
        {5, 6, 7, 8},
        {9,10,11,12}
    };
}


```

### **输出二维数组的内容**

```c
#include <iostream>

int main()
{
    int arr[3][4] =
    {
        {1, 2, 3, 4},
        {5, 6, 7, 8},
        {9,10,11,12}
    };
    int i,j;
    for(i = 0; i < 3; ++i)
    {
        for(j = 0; j < 4; ++j)
        {
//          负号表示将输出的内容对其，
//          3表示每个元素间隔3个光标到位置
            printf("%-3d ",arr[i][j]);
        }
        printf("\n");
    }
}


```

### 关于多维数组

数组的内存是线性的，并不是真正意义上的多维

n 维数组都可以当作每个元素是 n - 1 维数组的一维数组。

总的来说，n 维数组是可以被拆分的。

比如`int a[3][4]`

该数组是含有 3 个元素的一维数组，只不过这 3 个元素，每个元素都可以再分为 4 个小元素；

多维数组的下标从最右边的下标开始变化。

## 字符数组

用于存放字符数组的数组，因为字符是以 ASCII 码存放的，因此也可用整型来存在字符数据

### 字符串

字符串是一种特殊的字符数组，它以`\0`作为结束标志。将它前面的字符组成一个字符串。

C 语言中，实际上是将字符串作为字符数组来处理。

字符串和字符数组的结束标志 `\0`，它代表着前面的字符都是有效字符，同时它也会占一个字节的长度。

实际上，若输出一个字符串或字符数组，该字符串结尾没有 `\0`，则系统在存储时，会自动的在结尾添加一个`\0`

字符数组可以直接用一个字符串来赋值

```c
char ch[] = { "i am jack" };
```

如果一个字符串中有多个 `\0`，则遇到第一个 `\0`就停止输出后面的字符。

用 `scanf_s()` 输入字符数组时，需要指定字符串长度，否则会报错。且无需使用`&`。若输入的字符超出自顶字符串长度，则会无输入内容。

`\0` 也算一个字符，因此如果指定 10 个字符，则只能输入 9 个字符。

## 动态一维数组

动态一维数组可以被当作静态一维数组来来用，换言之，静态数组可以实现的，动态数组都可以实现，不同的是，动态一维数组可以被我们使用`free()`函数助动释放掉，而且可以用`realloc()`动态的缩小或扩充。

而静态一维数组只能等当前函数执行完毕后，才会被系统自动释放。

```c
#include <iostream>
#include <malloc.h>

int main()
{
    // 静态创建一维数组，数组大小为 20个字节
    // 静态数组只能等它自己所在的函数 main 执行完毕后，才会被系统助动释放。
    int  a[5];

    // 动态创建一维数组
    // 数组长度
    int len;
    // 数组名
    int * pArr;
    //自定义数组长度
    printf("请输入你要存放的元素个数：");
    scanf("%d",&len);// 5
    // 动态创建一维数组，数组大小为 20个字节，类似于 int pArr[len];
    pArr = (int *)malloc(4 * len);

    // 向动态数组里面添加元素
    for(int i = 0; i < len; i++)
    {
        scanf("%d",&pArr[i]);
        printf("你向数组中添加了：%d\n",pArr[i]);
    }

    // 输出动态数组中所有的元素
    printf("pArr 数组中的元素有：");
    for(int i = 0; i < len; i++)
    {
        printf("%d、",pArr[i]);
    }
}

```

