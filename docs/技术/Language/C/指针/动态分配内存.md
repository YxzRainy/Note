---
title: C 动态分配内存
date: 2022-03-30
categories:
        - Note
tags:
        - C
        - 指针
---

# 动态内存分配

## 传统数组的缺点

传统数组也叫静态数组，也属于静态内存

1. 数组长度必须事先指定，且只能是长整数，不能是变量。

2. 传统形式定义的数组，该数组的内存无法被我们手动释放。因为系统为该数组分配的储存空间就会一直存在，除非数组所在的函数运行完毕，数组的空间才会被系统释放。

      ```C
      #include <stdio.h>
      void fun(void){
          // 这 20 个字节（4 个 int ）的储存空间无法被我们手动的释放，
          // 只能在本函数（fun 函数）运行完毕后由系统自动释放
          int a[5] = {1,2,3,4,5};
      }
      int main ()
      {

      }
      ```

3. 数组的长度一旦定义，其长度就不能再被更改。也就是数组的长度不能在函数运行的过程中动态的扩充或缩小。

4. Ａ 函数中定义的数组，在 Ａ 函数运行期间可以被其他函数使用，但 A 函数运行完毕之后，A 函数中的数组将无法在被其他函数使用（A 函数在运行完毕后，就会被系统释放）。

## 动态数组（动态内存）

动态数组很好的解决了传统数组的 4 个缺点，传统数组也叫静态数组，
