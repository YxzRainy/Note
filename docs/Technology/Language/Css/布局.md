---
title: Css 布局
date: 2021-12-16
categories:
        - Note
tags:
        - Css
        - 前端
---

# 布局

## 正常流

- 默认情况下，所有元素都属于正常流。

- 块盒独占一行，行盒水平依次排列。

**包含块**

- ：每个盒子都有它的包含块，包含块决定了该盒子的排列范围。

- 在正常布局流中，元素的包含块，都是该元素父元素的内容盒。

#### margin 合并

多个同级且相邻的正常布局流块盒，当它们的上下`margin`相邻，则会合并为一个`margin`。

- 两个外边距值都是正数，则取较大值；
- 两个值都是负数，则取较大值；
- 一正一负则取两个值的和，

该情况可以触发 BFC 解决。

#### margin 塌陷

正常布局流中的呈父子关系的块盒，如果**父元素没有设置上下内边距或上下边框**，则子元素的上下`margin`就会和父元素的上下`margin`重合，且这时如果设置子元素的上下`margin`，相当于设置父元素的`margin`。

该情况可以触发 BFC 解决。

## 浮动

- 使元素向左上或向右上排列。
- 通常情况，浮动元素会无视正常布局元素，它会将正常布局元素覆盖。
- 在一行浮动元素中，若父元素装不下所有的浮动元素，则多余的浮动元素会自动向下移动，直到具备足够的空间能容纳这些多余的浮动元素，才向左或向右移动。
- 行盒在排列时，默认会避开浮动元素（单独的文字也是行盒，因为浏览器会自动生成一个行盒包裹单独的文字，该行盒为匿名行盒）。
- 浮动元素一定是块盒。
- 不会发生 margin 合并。
- 脱离正常布局流。

#### 高度塌陷

正常布局流元素高度自适应，它的子元素浮动后，该元素在计算高度时，不会考虑浮动后的子元素的高度，则会导致该元素高度为 0，这种情况称为高度塌陷。

**解决：**

利用伪元素 after 清除浮动即可解决。

## 定位流

使一个元素从它原本在正常布局流中应该在的位置移动到另一个位置。

### 相对定位

- 使元素在原来位置上进行偏移；若没有设置偏移量，对元素本身没有任何影响。

- 提升元素层级（z-index）。

- 盒子的偏移不会对其他盒子造成任何影响。

- 脱离正常布局流。

- 尽管元素被偏移了，但它仍然占据着它没偏移前的空间。

### 绝对定位

- 它相对于 static 定位以外的第一个父元素进行定位；若没有，则它的包含块为整个网页（初始化包含块），原位置不会被保留。

- 一定是块盒且不是浮动元素。

- 提升元素层级。

- 宽高为 auto（自适应内容）。

- 使元素完全脱离正常布局流。

### 固定定位

- 生成绝对定位的元素，相对于浏览器视口进行定位，原位置不会被保留。

- 当向下滚动页面时固定定位元素不会随着页面滚动所移动。

### 粘性定位

在滑动过程中，设置`sticky`的元素距离其父元素的距离达到设置的值时（比如`top：100px`），则这个 `sticky` 元素效果相当于`fixed`定位，会固定到此时的位置。相当于是`relative`和`fixed`的结合。

**使用条件**

- 父元素不能`overflow:hidden`或者`overflow:auto`属性。
- 必须指定 top、bottom、left、right 其中值之一，否则只会处于`relative`。
- 父元素的高度不能低于设置了`sticky`元素的高度
- `sticky`元素仅在其父元素内生效

## 弹性盒

弹性布局，用来为盒状模型提供最大的灵活性。

**一个 Flex 元素，其子元素的`float`、`clear`和`vertical-align`属性将失效。**

**为什么使用**

- 解决元素居中问题
- 自动弹性伸缩，合适适配不同大小的屏幕，和移动端。

### container 和 item

采用 Flex 布局的元素，称为 `container`。

`container` 的所有子元素自动成为容器成员，称为 item。

### 两根轴

容器默认存在两根轴：水平的主轴（main axis）和垂直的交叉轴（cross axis）。主轴的开始位置（与边框的交叉点）叫做`main start`，结束位置叫做`main end`；交叉轴的开始位置叫做`cross start`，结束位置叫做`cross end`。

项目默认沿主轴排列。单个项目占据的主轴空间叫做`main size`，占据的交叉轴空间叫做`cross size`。

### container 的属性

- **flex-direction**，决定主轴的方向（即 item 的排列方向）。

  - `row`（默认值）：主轴为水平方向，起点在左端。
  - `row-reverse`：主轴为水平方向，起点在右端。
  - `column`：主轴为垂直方向，起点在上沿。
  - `column-reverse`：主轴为垂直方向，起点在下沿。

- **flex-wrap**，默认情况下，项目都排在一条轴线上。`flex-wrap`定义的是，如果一条轴线排不下，如何进行换行。

  - `nowrap`（默认）：不换行。
  - `wrap`：换行，第一行在上方。
  - `wrap-reverse`：换行，第一行在下方。

- **flex-flow**，`flex-flow`属性是`flex-direction`属性和`flex-wrap`属性的简写形式，默认值分别为`row nowrap`。

- **justify-content**，定义了项目在主轴上的对齐方式，下面的值假设 `flex-direction:row`。

  - `flex-start`（默认值）：左对齐
  - `flex-end`：右对齐
  - `center`： 居中对齐
  - `space-between`：两端对齐，item 之间的间隔都相等。
  - `space-around`：每个 item 两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍。

- **align-items**，定义项目在交叉轴上如何对齐，下面的值假设`flex-direction:column`。

  - `flex-start`：交叉轴的起点对齐。
  - `flex-end`：交叉轴的终点对齐。
  - `center`：交叉轴的中点对齐。
  - `baseline`: 项目的第一行文字的基线对齐。
  - `stretch`（默认值）：如果项目未设置高度或设为auto，将占满整个容器的高度。

- **align-content**，定义了**多根轴线的对齐方式**。如果项目只有一根轴线，该属性不起作用。

  - `flex-start`：与交叉轴的起点对齐。
  - `flex-end`：与交叉轴的终点对齐。
  - `center`：与交叉轴的中点对齐。
  - `space-between`：与交叉轴两端对齐，轴线之间的间隔平均分布。
  - `space-around`：每根轴线两侧的间隔都相等。所以，轴线之间的间隔比轴线与边框的间隔大一倍。
  - `stretch`（默认值）：轴线占满整个交叉轴。

  ### item 的属性

  - **order**，定义项目的排列顺序。数值越小，排列越靠前，默认为0。
  - **flex-grow**
  - **flex-shrink**
  - **flex-basis**
  - **flex**
  - **align-self**

## 网格