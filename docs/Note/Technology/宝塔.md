宝塔面板非常方便，其中免费的SSL一键申请部署也很方便。但是经常莫名其妙出现“域名待验证”，有时候过很久都不通过。

最近静下心来仔细研究了一下。才找到了其中的奥秘。

申请证书的验证方式有两种：FILE验证与DNS验证。

从宝塔面板中直接申请，走的是前者。这种验证方式有时候比较慢，这时，可以直接登录bt.cn，在SSL管理中申请证书，用DNS验证。

DNS验证需要按照"详情"中的要求，去域名解析的地方添加一条“TXT”记录。

完成后在命令行检验TXT记录是否生效，命令如下：

nslookup -qt=TXT yourdomain.com

若生效，会显示解析结果。若不生效，就要检查一下是否有相同的CNAME记录。 因为同名的CNAME记录与TXT记录是有冲突的！

为不影响使用，可以先将CNAME记录改为A记录，等确认TXT解析生效后，去bt.cn后台验证域名，很快就能通过了。

通过后，点开证书信息。

复制“证书密钥”填到宝塔面板对应的“密钥(KEY)”中。

复制“证书”填到塔面板对应的“证书(PEM格式)”中，再复制“根证书”追加其后。

保存。

大功告成！